{% extends 'base.html' %}

{% block title %}
    Pronostics
{% endblock %}


{% block content %}
<h1>Pronostics</h1>

{% if session.selected_project.id %}
    Projet sélectionné : {{ session.selected_project.name }}
    {% if pronostic_done %}
        <div>
            <button onclick="window.location.href='/menu_2'" class="btn btn-secondary mt-4">Mon pronostic</button>

            <button onclick="window.location.href='/all_pronostics'" class="btn btn-primary mt-4">Synthèse des pronostics</button>
        </div>
        <p>Vous avez déjà fait votre pronostic</p>
        Sexe : {{ prono_sex }} </br>
        Nom : {{ prono_name }} </br>
        Poids : {{ prono_weight }} kilogrammes</br>
        Taille : {{ prono_height }} centimètres</br>
        Date : {{ prono_date }} </br>
        <div>
            <button onclick="window.location.href='/update_pronostic'" class="btn btn-primary mt-4">Changer de pronostic</button>
        </div>
    {% else %}
        <p>Vous n'avez pas encore fait votre pronostic</p>
        <form method="post">
            <div class="form-group">
                <div class="btn-group btn-group-toggle" data-toggle="buttons">
                    <label class="btn btn-secondary">
                        <input type="radio" name="sex" value="Garçon">Garçon</input>
                    </label>
                    <label class="btn btn-secondary">
                        <input type="radio" name="sex" value="Fille">Fille</input>
                    </label>
                </div>
            </br>
                <label for="name">Nom</label>
                <input type="text" class="form-control" name="name" placeholder="..." required>
            </br>
                <label for="weight" class="form-label">Poids</label>
                <input type="range" class="form-range" id="weight" name="weight" min="2.5" max="4.5" step="0.1" oninput="updateWeightValue(this.value)">
                <span id="weightValue">3,5</span> kilos

            </br>
                <label for="height" class="form-label">Taille</label>
                <input type="range" class="form-range" id="height" name="height" min="30" max="60" step="0.1" oninput="updateHeightValue(this.value)">
                <span id="heightValue">45</span> Centimètres

            </br>
                <label for="date">Date</label>
                <input type="date" class="form-control" name="date" required>
            </div>
            <button type="submit" class="btn btn-primary btn-block mt-3">Valider info</button>

        </form>
    {% endif %}

{% else %}
Aucun projet sélectionné.
{% endif %}
</br>

<script>
    function updateWeightValue(value) {
        document.getElementById("weightValue").textContent = value;
    }
    function updateHeightValue(value) {
        document.getElementById("heightValue").textContent = value;
    }
</script>


{% endblock %}
